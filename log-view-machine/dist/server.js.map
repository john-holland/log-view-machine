{"version":3,"file":"server.js","sources":["../src/simple-server.ts"],"sourcesContent":["import express from 'express';\n\nconst app = express();\nconst port = process.env.PORT || 3000;\n\n// Middleware\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\n// Health check endpoint\napp.get('/health', (req, res) => {\n  res.status(200).json({\n    status: 'healthy',\n    timestamp: new Date().toISOString(),\n    service: 'tome-connector',\n    version: '1.0.0'\n  });\n});\n\n// Root endpoint\napp.get('/', (req, res) => {\n  res.json({\n    message: 'TomeConnector Server',\n    version: '1.0.0',\n    endpoints: {\n      health: '/health',\n      api: '/api/*',\n      metrics: '/metrics'\n    }\n  });\n});\n\n// API endpoint\napp.get('/api/status', (req, res) => {\n  res.json({\n    message: 'TomeConnector API is running',\n    timestamp: new Date().toISOString()\n  });\n});\n\n// Metrics endpoint for Prometheus\napp.get('/metrics', (req, res) => {\n  res.set('Content-Type', 'text/plain');\n  res.send(`# TomeConnector Metrics\ntome_connector_requests_total{endpoint=\"health\"} 1\ntome_connector_requests_total{endpoint=\"api\"} 1\n`);\n});\n\n// Error handling middleware\napp.use((err: any, req: express.Request, res: express.Response, next: express.NextFunction) => {\n  console.error('Server error:', err);\n  res.status(500).json({ error: 'Internal server error' });\n});\n\n// Start the server\napp.listen(port, () => {\n  console.log(`ðŸš€ TomeConnector Server running on port ${port}`);\n  console.log(`ðŸ“Š Health check: http://localhost:${port}/health`);\n  console.log(`ðŸ“ˆ Metrics: http://localhost:${port}/metrics`);\n  console.log(`ðŸ” API: http://localhost:${port}/api`);\n});\n\n// Graceful shutdown\nprocess.on('SIGTERM', () => {\n  console.log('SIGTERM received, shutting down gracefully...');\n  process.exit(0);\n});\n\nprocess.on('SIGINT', () => {\n  console.log('SIGINT received, shutting down gracefully...');\n  process.exit(0);\n});\n"],"names":[],"mappings":"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"}